<h2>SaMi data analysis application help</h2>
<p><em>13.3.2018 Jesse Honkanen</em></p>
<h3>General info</h3>
<p>This application is implemented for Savonia University of Applied Sciences project <a href="http://sami.savonia.fi/" target="_blank">Savonia Measurements System (SaMi)</a>. This application's goal is to help extract and transform data for analysis purposes and offer quick basic analysis tools for data explorarion. Measurement data is assumed to be numeric <a href="https://en.wikipedia.org/wiki/Time_series" target="_blank">time series</a> data and other data types are not supported by this application.</p>
<p>More info can be found from project's <a href="https://github.com/savoniauas/sami-analysis" target="_blank">Github page</a>.</p>

<h3>Data loader page</h3>
<p>Data needs to be loaded before you can use other tools. There are four options: Make a new SaMi query, Paste a query, Use sample data and Load saved data. Only one dataset (excluding sample data) is saved on disk and overwritten when new data is loaded. Default file names for that data are <em>sami_data.csv</em> and <em>sami_data.rds</em>. You can copy these files if you want to save them.</p>
<p>Active dataset can be downloaded from application in different formats.</p>
<p>Filtering data can be useful if you want to drop unnecessary sensors. There is an option to overwrite file on disk.</p>
<p>Once data is loaded and filtered you can start using other pages of application.</p>

<h3>Edit time series page</h3>
<p>On this page you can edit automatically created time series objects, create random time series objects or combine time series for downloading and multivariate analysis.</p>
<p>Loading or filtering data creates automatically time series objects from active dataset. These are displayed in a list where variables are renamed if active dataset contains Object and Tag fields (variables are not renamed inside time series objects).</p>
<p>You can create new time series by using existing variables. First choose time series to edit from a list. Then change time frame if you want.</p>
<p>Changing time series granularity means downsampling or upsampling time series. You can for example change daily data to monthly data and recalculate values by using various functions (count, mean, sum...).</p>
<p>If there are missing timestamps in dataset, those can be created and filled. You can choose what to do with empty values. Usually it's not a good idea to leave empty values to dataset if calculations need to be made. Dropping empty values also drops timestamps of those values. You can use some given value (0 is usually a decent choice), use previous or next valid value or interpolate values. Zoo packages na.approx is the default method.</p>
<p>If you don't choose to aggregate data, you can choose to recalculate values. This can be done after creating aggregated time series also.</p>
<p>Creating random time series can be useful for testing purposes. There are couple of ready functions for creating random time series.</p>
<p>Time series are only single variable by default. You can combine time series by choosing "Combined time series". You get a list of available time series and can choose options for combining series. Combining can be tricky if timestamps are not identical. That's why it may be good idea to aggregate existing time series to the same granularity before combining them. You can choose to only keep timestamps that are shared among series or keep all timestamps (missing values are left empty).</p>

<h3>Data summary page</h3>
<p>Gives summary about loaded dataset and created time series objects.</p>

<h3>Data plotting page</h3>
<p>Only line graphs are supported at the moment.</p>

<h3>Data table page</h3>
<p>You can view data in an interactive table based on DataTables JS library. Creating data is done in R code (server-side) and only visible data is loaded in browser's memory at any given time. This prevents browser from crashing when datasets are large, but on the other hand, makes downloading data from table using Javascript buttons more cumbersome. You can download the whole dataset from "Data loader" page. If dataset is not large, all rows can be shown by selecting "All" from list.</p>

<h3>Analysis page</h3>
<p>On this page you can run R code and see the console output and possible plot output. Code is not limited to time series analysis. You can for example install new packages to your R environment and run other arbitrary code like you would in normal R console.</p>
<p>There are couple of common time series scripts included to get you started. Currently selected time series object is stored to a variable called 'x'. Other time series objects can be found in values$tslist, values$tscreated, values$tscombined lists and loaded dataset is stored to values$data. Variables used in code are saved to a custom environment to avoid overlapping.</p>

<h3>Help for making time series analysis</h3>
<p>Below you can find some resources to get started with R, Shiny and time series analysis (TSA).</p>
<ul>
  <li><a href="http://r4ds.had.co.nz/">R for Data Science</a></li>
  <li><a href="https://shiny.rstudio.com/tutorial/">Getting started with Shiny</a></li>
  <li><a href="https://github.com/grabear/awesome-rshiny">Shiny resources</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Time_series">Time Series (Wikipedia)</a></li>
  <li><a href="https://otexts.org/fpp2/">Forecasting: Principles and Practice</a></li>
  <li><a href="https://cran.r-project.org/web/views/TimeSeries.html">R time series packages</a></li>
  <li><a href="http://www.stats.uwo.ca/faculty/aim/tsar/tsar.pdf">Time Series Analysis with R (PDF)</a></li>
  <li><a href="http://www.stat.pitt.edu/stoffer/tsa4/">Time Series Analysis and Its Applications</a></li>
</ul>

